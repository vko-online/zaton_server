datasource db {
  provider = "sqlite"
  url = "***"
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id String @default(cuid()) @id
  name String
  phone String
  password String
  companies Company[]
}

model Company {
  id String @default(cuid()) @id
  name String
  stamp String
  clients Client[]
  invoices Invoice[]
  products Product[]
  accounts Account[]
  user User @relation(fields: [userId], references: [id])
  userId String
}

model Client {
  id String @default(cuid()) @id
  bin String?
  name String
  type Int? // 
  legalAddress String?
  actualAddress String?
  phone String?
  email String?
  position String?
  director String?
  note String?
  invoices Invoice[]
}

model Product {
  id String @default(cuid()) @id
  name String
  service Boolean
  sku String?
  unit String?
  price Int?
  invoices Invoice[]
}

model Invoice {
  id String @default(cuid()) @id
  num String?
  draft Boolean
  date DateTime?
  client Client @relation(fields: [clientId], references: [id])
  clientId String
  company Company @relation(fields: [companyId], references: [id])
  companyId String
  productLine Line[]
  account Account @relation(fields: [accountId], references: [id])
  accountId String
}

model Line {
  id String @default(cuid()) @id
  product Product
  qty Int
  invoice Invoice @relation(fields: [invoiceId], references: [id])
  invoiceId String
}

model Account {
  id String @default(cuid()) @id
  bin String
  balance Int?
  name String?
  bankName String
  company Company @relation(fields: [companyId], references: [id])
  companyId String
  invoices Invoice[]
}